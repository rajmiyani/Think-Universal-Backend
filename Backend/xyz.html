<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Appointment Information</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f8f9fa;
    }

    .appointment-container {
      max-width: 1200px;
      margin: 40px auto;
      padding: 30px;
      background: #fff;
      box-shadow: 0 0 20px rgba(0,0,0,0.05);
      border-radius: 12px;
    }

    .form-control:focus {
      box-shadow: none;
      border-color: #0d6efd;
    }

    .loading {
      display: none;
      text-align: center;
      font-size: 18px;
      color: #6c757d;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="appointment-container">
    <h3 class="mb-4">Appointment Information</h3>

    <!-- Filters -->
    <div class="row mb-3">
      <div class="col-md-4 mb-2">
        <input type="text" id="filterInput" class="form-control" placeholder="Filter by Name" />
      </div>
      <div class="col-md-4 mb-2">
        <input type="text" id="doctorInput" class="form-control" placeholder="Search and Select Doctor" />
      </div>
      <div class="col-md-4 mb-2">
        <select class="form-select" id="statusSelect">
          <option value="">All Statuses</option>
          <option value="pending">Pending</option>
          <option value="confirmed">Confirmed</option>
          <option value="cancelled">Cancelled</option>
        </select>
      </div>
    </div>

    <div class="loading" id="loadingText">Loading...</div>

    <!-- Table -->
    <div class="table-responsive">
      <table class="table table-bordered text-center">
        <thead class="table-light">
          <tr>
            <th>No</th>
            <th>Name</th>
            <th>Date</th>
            <th>Time</th>
            <th>Age</th>
            <th>Doctor</th>
            <th>Meeting Mode</th>
            <th>Payment Method</th>
            <th>Appointment Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="appointmentTableBody">
          <!-- Data rows will go here -->
        </tbody>
      </table>
    </div>

    <!-- Pagination (Placeholder Only) -->
    <div class="d-flex justify-content-between align-items-center mt-3">
      <div>
        <label for="itemsPerPage" class="form-label me-2">Items per page:</label>
        <select class="form-select d-inline-block w-auto" id="itemsPerPage">
          <option>5</option>
          <option>10</option>
        </select>
      </div>
      <div>
        <span>1 of 1</span>
        <button class="btn btn-sm btn-light mx-1" disabled>&lt;</button>
        <button class="btn btn-sm btn-light mx-1" disabled>&gt;</button>
      </div>
    </div>
  </div>

  <script>
    const appointments = [
      {
        no: 1,
        name: "Raj Maiyani",
        date: "2025-06-10",
        time: "10:00 AM",
        age: 25,
        doctor: "Dr. Shah",
        meetingMode: "Online",
        payment: "UPI",
        status: "confirmed"
      },
      {
        no: 2,
        name: "Amit Patel",
        date: "2025-06-11",
        time: "02:00 PM",
        age: 30,
        doctor: "Dr. Mehta",
        meetingMode: "Offline",
        payment: "Cash",
        status: "pending"
      },
      {
        no: 3,
        name: "Nisha Singh",
        date: "2025-06-12",
        time: "04:00 PM",
        age: 28,
        doctor: "Dr. Shah",
        meetingMode: "Online",
        payment: "Card",
        status: "cancelled"
      }
    ];

    const filterInput = document.getElementById("filterInput");
    const doctorInput = document.getElementById("doctorInput");
    const statusSelect = document.getElementById("statusSelect");
    const tableBody = document.getElementById("appointmentTableBody");
    const loadingText = document.getElementById("loadingText");

    function renderTable(data) {
      tableBody.innerHTML = "";

      if (data.length === 0) {
        tableBody.innerHTML = `<tr><td colspan="10">No data matching the filter</td></tr>`;
        return;
      }

      data.forEach((appt) => {
        const row = `
          <tr>
            <td>${appt.no}</td>
            <td>${appt.name}</td>
            <td>${appt.date}</td>
            <td>${appt.time}</td>
            <td>${appt.age}</td>
            <td>${appt.doctor}</td>
            <td>${appt.meetingMode}</td>
            <td>${appt.payment}</td>
            <td>${appt.status}</td>
            <td><button class="btn btn-sm btn-primary">View</button></td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
    }

    function filterData() {
      const nameFilter = filterInput.value.toLowerCase();
      const doctorFilter = doctorInput.value.toLowerCase();
      const statusFilter = statusSelect.value;

      const filtered = appointments.filter(appt => {
        const matchesName = appt.name.toLowerCase().includes(nameFilter);
        const matchesDoctor = appt.doctor.toLowerCase().includes(doctorFilter);
        const matchesStatus = !statusFilter || appt.status === statusFilter;
        return matchesName && matchesDoctor && matchesStatus;
      });

      renderTable(filtered);
    }

    // Initial render
    renderTable(appointments);

    // Event listeners
    filterInput.addEventListener("input", filterData);
    doctorInput.addEventListener("input", filterData);
    statusSelect.addEventListener("change", filterData);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
